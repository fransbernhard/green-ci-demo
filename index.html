<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ğŸŒ± Green CI Demo</title>
    <style>
        body {font-family:sans-serif;text-align:center;background:#eef; }
        h1 {color:#2c662d;}
        button {padding:10px 20px;margin:10px;font-size:18px;}
        #garden span {font-size:2rem;display:inline-block;animation:float 4s linear forwards;}
    @keyframes float {from{transform:translateY(20px);opacity:0}to{transform:translateY(-60px);opacity:1}}
    </style>
</head>
<body>
    <h1>ğŸŒ</h1>
    <p>Eco-CI demo site.</p>
    <button onclick="plant()">ğŸŒ¿</button>

    <section>
        <h2>Latest CI Energy</h2>
        <div id="ciEnergy">Loadingâ€¦</div>
    </section>
    <script>
    (async function(){
        try{
        const d = await fetch('energy.json', {cache:'no-store'}).then(r=>r.json());
        const html = `
            <p><strong>âš¡ Energy:</strong> ${d.energy_mwh} mWh (${d.energy_joules} Joules)</p>
            <p><strong>â±ï¸ Duration:</strong> ${d.duration_seconds} seconds</p>
            <p><strong>ğŸ’» CPU Utilization:</strong> ${d.cpu_utilization}%</p>
            <p><strong>ğŸ”¢ Run #${d.run_id}</strong> â€¢ <small>${new Date(d.timestamp).toLocaleString()}</small></p>
            ${d.workflow_url ? `<p><a href="${d.workflow_url}" target="_blank">View workflow run â†’</a></p>` : ''}
        `;
        document.getElementById('ciEnergy').innerHTML = html;
        } catch {
        document.getElementById('ciEnergy').textContent = 'No CI energy data yet.';
        }
    })();
    </script>
  
</body>
</html>
